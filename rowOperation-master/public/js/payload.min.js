var PayloadPanel=function(){function e(){var e=Api.setRequestPayload;Api.setRequestPayload=function(s){e.call(Api,s),a(o.payloadTypes.request)};var s=Api.setResponsePayload;Api.setResponsePayload=function(e){s.call(Api,e),a(o.payloadTypes.response)}}function a(e){var a=s(e);if(null!==a){for(var t=l(a),n=document.querySelector(a?o.selectors.payloadRequest:o.selectors.payloadResponse);n.lastChild;)n.removeChild(n.lastChild);n.appendChild(t);var r=document.querySelector(o.selectors.payloadInitial);(Api.getRequestPayload()||Api.getResponsePayload())&&r.classList.add("hide")}}function s(e){return e===o.payloadTypes.request||e!==o.payloadTypes.response&&null}function l(e){var a=t(e?Api.getRequestPayload():Api.getResponsePayload()),s={tagName:"div",children:[{tagName:"div",text:e?"User input":"Watson understands",classNames:["header-text"]},{tagName:"div",classNames:["code-line","responsive-columns-wrapper"],children:[{tagName:"pre",text:n((a.match(/\n/g)||[]).length+1),classNames:["line-numbers"]},{tagName:"pre",classNames:["payload-text","responsive-column"],html:a}]}]};return Common.buildDomElement(s)}function t(e){if(null===e)return"";var a=JSON.stringify(e,null,2);return a=a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),a=a.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g,function(e){var a="number";return/^"/.test(e)?a=/:$/.test(e)?"key":"string":/true|false/.test(e)?a="boolean":/null/.test(e)&&(a="null"),'<span class="'+a+'">'+e+"</span>"})}function n(e){for(var a="",s="",l=1;l<=e;l++)a+=s,a+=l,s="\n";return a}var o={selectors:{payloadColumn:"#payload-column",payloadInitial:"#payload-initial-message",payloadRequest:"#payload-request",payloadResponse:"#payload-response"},payloadTypes:{request:"request",response:"response"}};return{init:function(){e()},togglePanel:function(e,a){var s=document.querySelector(o.selectors.payloadColumn);a.classList.contains("full")?(a.classList.remove("full"),s.classList.remove("full")):(a.classList.add("full"),s.classList.add("full"))}}}();