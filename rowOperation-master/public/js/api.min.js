var Api=function(){var e,t,s="/api/message";return{sendRequest:function(e,t){var n={};e&&(n.input={text:e}),t&&(n.context=t);var a=new XMLHttpRequest;a.open("POST",s,!0),a.setRequestHeader("Content-type","application/json"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status&&a.responseText){var e=JSON.parse(a.responseText);e.entities.length>0&&"request access"==e.entities[0].value?(localStorage.setItem("gt","request"),Api.setResponsePayload(a.responseText)):Api.setResponsePayload(a.responseText)}};var o=JSON.stringify(n);0!==Object.getOwnPropertyNames(n).length&&Api.setRequestPayload(o),a.send(o)},clickRequest:function(e,t){var n={};e&&(n.input={text:e}),t&&(n.context=t);var a=new XMLHttpRequest;a.open("POST",s,!0),a.setRequestHeader("Content-type","application/json"),a.onreadystatechange=function(){if(4===a.readyState&&200===a.status&&a.responseText){var e=JSON.parse(a.responseText);e.entities.length>0&&"request access"==e.entities[0].value?(localStorage.setItem("gt","request"),Api.setResponsePayload(a.responseText)):Api.setResponsePayload(a.responseText)}};var o=JSON.stringify(n);Object.getOwnPropertyNames(n).length,a.send(o)},getRequestPayload:function(){return e},setRequestPayload:function(t){e=JSON.parse(t)},getResponsePayload:function(){return t},setResponsePayload:function(e){t=JSON.parse(e)}}}();